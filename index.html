<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>PR Tracker</title>
    <link rel="stylesheet" href="main.css">
    <meta name="robots" content="noindex, nofollow">
    
    <!-- PWA Meta Tags -->
    <meta name="theme-color" content="#ff4444">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="apple-mobile-web-app-title" content="PR Tracker">
    <meta name="msapplication-TileColor" content="#1a1a1a">
    <meta name="msapplication-TileImage" content="/icon-192.png">
    
    <!-- PWA Manifest -->
    <link rel="manifest" href="/manifest.json">
    
    <!-- Apple Touch Icons -->
    <link rel="apple-touch-icon" href="/icon-192.png">
    <link rel="apple-touch-icon" sizes="192x192" href="/icon-192.png">
    <link rel="apple-touch-icon" sizes="512x512" href="/icon-512.png">
    
    <!-- Favicon -->
    <link rel="icon" href="/icon-192.png" type="image/png">
</head>
<body>
    <div class="app">

        <nav class="tab-nav">
            <button class="tab-btn active" data-tab="prs">PRs</button>
            <button class="tab-btn" data-tab="weight">Gewicht</button>
            <button class="tab-btn" data-tab="settings">Settings</button>
        </nav>

        <main class="content">
            <!-- PR Tab -->
            <div class="tab-content active" id="prs">
                
                <!-- √úbungsauswahl -->
                <div class="section">
                    <h2>üí™ PR Tracker</h2>
                    <div class="form-group">
                        <label for="main-exercise-select">√úbung ausw√§hlen:</label>
                        <select id="main-exercise-select">
                            <option value="">√úbung w√§hlen...</option>
                        </select>
                    </div>
                </div>

                <!-- √úbungsspezifische Bereiche (nur sichtbar wenn √úbung gew√§hlt) -->
                <div id="exercise-content" style="display: none;">
                    
                    <!-- Neuer Eintrag -->
                    <div class="section">
                        <h2>Neuer Eintrag</h2>
                        <form id="pr-form">
                            <div class="form-group">
                                <label for="pr-date">Datum:</label>
                                <input type="date" id="pr-date" required>
                            </div>
                            <div class="form-group">
                                <label for="pr-weight">Gewicht (kg):</label>
                                <input type="number" id="pr-weight" step="0.5" min="0" required>
                            </div>
                            <div class="form-group">
                                <label for="pr-reps">Wiederholungen:</label>
                                <input type="number" id="pr-reps" min="1">
                            </div>
                            <button type="submit">Eintrag speichern</button>
                        </form>
                    </div>

                    <!-- Verlaufsdiagramm -->
                    <div class="section">
                        <h2>Verlauf</h2>
                        <div class="chart-controls">
                            <select id="chart-period">
                                <option value="3">3 Monate</option>
                                <option value="6">6 Monate</option>
                                <option value="12">1 Jahr</option>
                                <option value="max">Max</option>
                            </select>
                        </div>
                        <canvas id="pr-chart"></canvas>
                    </div>

                    <!-- Eintr√§ge f√ºr diese √úbung -->
                    <div class="section">
                        <h2>Eintr√§ge</h2>
                        <div id="pr-list"></div>
                    </div>
                    
                </div>

                <!-- Hinweis wenn keine √úbung gew√§hlt -->
                <div id="no-exercise-selected" class="section">
                    <div class="empty-state">
                        <h3>Keine √úbung gew√§hlt</h3>
                        <p>W√§hle oben eine √úbung aus oder erstelle eine neue im Settings Tab.</p>
                    </div>
                </div>
                
            </div>

            <!-- Weight Tab -->
            <div class="tab-content" id="weight">
                <div class="section">
                    <h2>Gewicht eintragen</h2>
                    <form id="weight-form">
                        <div class="form-group">
                            <label for="weight-date">Datum:</label>
                            <input type="date" id="weight-date" required>
                        </div>
                        <div class="form-group">
                            <label for="weight-value">Gewicht (kg):</label>
                            <input type="number" id="weight-value" step="0.1" min="0" required>
                        </div>
                        <button type="submit">Gewicht speichern</button>
                    </form>
                </div>

                <div class="section">
                    <h2>Gewichtsverlauf</h2>
                    <div class="chart-controls">
                        <select id="weight-chart-period">
                            <option value="3">3 Monate</option>
                            <option value="6">6 Monate</option>
                            <option value="12">1 Jahr</option>
                            <option value="max">Max</option>
                        </select>
                    </div>
                    <canvas id="weight-chart"></canvas>
                </div>

                <div class="section">
                    <h2>Alle Gewichtseintr√§ge</h2>
                    <div id="weight-list"></div>
                </div>
            </div>

            <!-- Settings Tab -->
            <div class="tab-content" id="settings">
                <div class="section">
                    <h2>Neue √úbung hinzuf√ºgen</h2>
                    <div class="form-group">
                        <input type="text" id="new-exercise" placeholder="√úbungsname (z.B. Bankdr√ºcken)">
                        <button id="add-exercise">Hinzuf√ºgen</button>
                    </div>
                </div>
                <div class="section">
                    <h2>Firebase Konfiguration</h2>
                    <p class="info">Trage hier deine Firebase-Konfiguration ein:</p>
                    <div class="form-group">
                        <label for="firebase-config">Firebase Config (JSON):</label>
                        <textarea id="firebase-config" rows="10" placeholder='{"apiKey": "...", "authDomain": "...", ...}'></textarea>
                        <button id="save-config">Konfiguration speichern</button>
                    </div>
                    <div class="connection-status">
                        <span id="connection-status">Nicht verbunden</span>
                    </div>
                </div>

                <div class="section">
                    <h2>Daten verwalten</h2>
                    <button id="export-data" class="secondary">Daten exportieren</button>
                    <button id="clear-data" class="danger">Alle Daten l√∂schen</button>
                </div>
            </div>
        </main>
    </div>

    <!-- Firebase SDK -->
    <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-firestore-compat.js"></script>
    
    <!-- Chart.js -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    
    <!-- Main App -->
    <script src="main.js"></script>
</body>
</html>
